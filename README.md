# 多智能体协同教学系统 (Multi-Agent Teaching System)

这是一个基于大模型 (LLM) 和检索增强生成 (RAG) 技术的智能教学辅助系统。采用 **前后端分离** 架构，旨在为教师和学生提供全方位的智能辅助。

## ✨ 核心特性 (New Features)

### 1. 多角色支持与权限管理
- **教师 (Teacher)**: 专注于教学辅助（出题、批改、备课）。
- **学生 (Student)**: 专注于学习辅助（答疑、练习、自测）。
- **内测管理员 (Internal Test)**: 拥有 **管理员视角 (Admin View)**，可查看所有用户上传的知识库，并支持自由勾选特定用户的知识库进行定向测试。

### 2. 灵活的知识库管理
- **全局管理**: 顶部导航栏一键唤起知识库面板，支持 PDF/Word/TXT 上传。
- **严格隔离**: 
    - **普通用户**: 仅能看到自己上传的文档，保障隐私。
    - **管理员**: 可查看全量文档（按用户分组）。
- **KB Toggle**: 所有智能体均支持“结合知识库”开关，灵活切换 RAG 模式与通用大模型模式。

---

## 🧩 智能体矩阵 (Agent Matrix)

系统规划了 9 大智能体，覆盖教学全场景：

### 核心教学 (Core Teaching)
1.  **智能答疑助教** (已上线) `[交互]`
    *   **功能**: 7x24小时即时响应，基于知识库提供准确解答。
    *   **场景**: 课后答疑、知识点查漏补缺。
2.  **智能出题助教** (已上线) `[工具]`
    *   **功能**: Chat-to-Build 模式生成试卷，支持可视化编辑与导出。
    *   **场景**: 单元测试、期末组卷、学生自测。
3.  **智能批改助教** (已上线) `[反馈]`
    *   **功能**: 自动生成评分标准，批量批改作业，提供定性与定量反馈。支持 **单条重新诊断** 和 **上下文注入**（诊断后可直接追问）。
    *   **场景**: 作业批改、论文预审（学生端自动隐藏分数，仅提供定性建议）。

### 教学资源与备课 (Resources & Prep)
4.  **课件生成助教** (规划中) `[工具]`
    *   **功能**: 根据知识点自动生成 PPT 大纲，智能匹配案例与配图。
5.  **视频讲解助教** (规划中) `[资源]`
    *   **功能**: 将长知识点拆解为短视频脚本，辅助微课制作。
6.  **前沿资讯助教** (规划中) `[拓展]`
    *   **功能**: 追踪行业热点，引导学生用理论解读新闻。

### 育人与分析 (Development & Analysis)
7.  **课程思政助教** (规划中) `[育人]`
    *   **功能**: 挖掘课程中的思政元素，匹配典型案例，辅助教学设计。
8.  **学情分析助教** (规划中) `[数据]`
    *   **功能**: 建立学生能力画像（理论/思维/实践），诊断薄弱点。
9.  **就业指导助教** (规划中) `[生涯]`
    *   **功能**: 简历优化、模拟面试、人岗匹配分析。

---

## 🛠️ 技术架构

*   **前端**：Vue 3 + Vite + Element Plus + Pinia (位于 `frontend/` 目录)
*   **后端**：Python FastAPI + LangChain + ChromaDB (位于 `backend/` 目录)
*   **模型**：支持 OpenAI / DeepSeek 等兼容接口的大模型。

详细架构文档请见: [System Architecture](system_architecture.md)

---

## 🚀 快速开始 (本地运行)

### 1. 后端启动 (Backend)
```bash
cd backend
# 安装依赖
pip install -r requirements.txt

# 配置环境变量 (复制 .env.example 或手动创建 .env)
# OPENAI_API_KEY=sk-xxx
# OPENAI_BASE_URL=https://api.deepseek.com
# LLM_MODEL=deepseek-chat

# 构建知识库 (首次运行需要)
python ingest.py

# 启动服务 (端口 8000)
bash start.sh
```

### 2. 前端启动 (Frontend)
```bash
cd frontend
# 安装依赖
npm install

# 启动开发服务器 (端口 5173)
npm run dev
```

访问浏览器 **`http://localhost:5173`** 即可使用。

## 📄 许可证
MIT License
